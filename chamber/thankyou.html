<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gracias por tu afiliación | Cámara de Comercio</title>
    <meta name="description" content="Confirmación de solicitud de membresía - Cámara de Comercio">
    <link rel="stylesheet" href="./styles/chamber-site.css">
    <link rel="stylesheet" href="./styles/normalize.css">
    <link rel="stylesheet" href="./styles/join.css">
    <script src="./scripts/getdates.js" defer></script>
</head>
<body>
    <!-- Header igual que index.html -->
    <header class="site-header">
        <div class="container">
            <!-- Ícono del menú hamburguesa -->
            <div class="menu-icon" id="menu-toggle">
                <span class="menu-icon-symbol">&#9776;</span>
                <span class="menu-icon-text">Menú</span>
            </div>

            <!-- Aniversario -->
            <div class="anniversary">
                <div class="anniversary-title">Cumplimos</div>
                <div class="anniversary-year">150 años</div>
                <div class="anniversary-text">de unir, servir y representar</div>
            </div>

            <!-- Logo -->
            <div class="logo">
                <img src="./images/lanetalogo.webp" alt="Logo Cámara de Comercio" loading="lazy">
            </div>

            <!-- Botón "Afiliarme" -->
            <a href="join.html" class="affiliate-button">QUIERO AFILIARME</a>
        </div>
    </header>

    <!-- Menú lateral -->
    <div class="overlay" id="overlay"></div>
    <div class="side-menu" id="side-menu">
        <nav>
            <h2>Menú Principal</h2>
            <ul>
                <li><a href="index.html"><i class="bi bi-arrow-right"></i> Inicio</a></li>
                <li><a href="directory.html"><i class="bi bi-arrow-right"></i> Directorio</a></li>
                <li><a href="join.html"><i class="bi bi-arrow-right"></i> Únete</a></li>
                <li><a href="#"><i class="bi bi-arrow-right"></i> Servicios</a></li>
                <li><a href="#"><i class="bi bi-arrow-right"></i> Representatividad</a></li>
                <li><a href="#"><i class="bi bi-arrow-right"></i> Eventos</a></li>
            </ul>
        </nav>
    </div>

    <main class="thankyou-main">
        <section>
            <h1>¡Gracias por Tu Solicitud!</h1>
            <p class="thankyou-message">Hemos recibido tu solicitud de afiliación a la Cámara de Comercio. 
            Un representante se pondrá en contacto contigo pronto para completar el proceso.</p>

            <div class="confirmation-details">
                <h2>Resumen de tu Solicitud</h2>
                <div id="confirmation-details">
                    <!-- JavaScript will populate this -->
                </div>
            </div>

            <div class="next-steps">
                <h3>Próximos Pasos</h3>
                <ul>
                    <li>Recibirás un correo de confirmación en las próximas 24 horas</li>
                    <li>Un representante se comunicará para verificar tu información</li>
                    <li>Completarás el proceso de pago (si aplica)</li>
                    <li>Recibirás tu certificado de membresía</li>
                </ul>
            </div>

            <a href="index.html" class="return-home">Regresar al Inicio</a>
        </section>
    </main>

    <!-- Footer igual que index.html -->
    <footer>
        <p>&copy; <span id="currentYear"></span> Luis Emilio Nathanael De la Rosa Meneses, Mexico, wdd131</p>
        <p id="lastModified"></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize menu
            const menuToggle = document.getElementById('menu-toggle');
            const sideMenu = document.getElementById('side-menu');
            const overlay = document.getElementById('overlay');

            if (menuToggle && sideMenu && overlay) {
                menuToggle.addEventListener('click', function() {
                    sideMenu.classList.toggle('open');
                    overlay.classList.toggle('active');
                    document.body.style.overflow = sideMenu.classList.contains('open') ? 'hidden' : 'auto';
                });

                overlay.addEventListener('click', function() {
                    sideMenu.classList.remove('open');
                    overlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            }

            // Display form data
            const urlParams = new URLSearchParams(window.location.search);
            const detailsContainer = document.getElementById('confirmation-details');
            
            if (detailsContainer && urlParams) {
                const details = `
                    <p><strong>Nombre:</strong> ${urlParams.get('firstName') || 'No proporcionado'} ${urlParams.get('lastName') || ''}</p>
                    <p><strong>Email:</strong> ${urlParams.get('email') || 'No proporcionado'}</p>
                    <p><strong>Teléfono:</strong> ${urlParams.get('phone') || 'No proporcionado'}</p>
                    <p><strong>Organización:</strong> ${urlParams.get('organization') || 'No proporcionado'}</p>
                    <p><strong>Cargo:</strong> ${urlParams.get('organizationTitle') || 'No proporcionado'}</p>
                    <p><strong>Nivel de Membresía:</strong> ${getMembershipLevelText(urlParams.get('membership'))}</p>
                    <p><strong>Descripción:</strong> ${urlParams.get('description') || 'No proporcionada'}</p>
                    <p><strong>Fecha de Solicitud:</strong> ${formatTimestamp(urlParams.get('timestamp'))}</p>
                `;
                detailsContainer.innerHTML = details;
            }

            function getMembershipLevelText(level) {
                const levels = {
                    'np': 'NP Membership (Sin costo)',
                    'bronze': 'Bronze Membership',
                    'silver': 'Silver Membership',
                    'gold': 'Gold Membership'
                };
                return levels[level] || 'No seleccionado';
            }

            function formatTimestamp(timestamp) {
                if (!timestamp) return 'No disponible';
                const date = new Date(timestamp);
                return date.toLocaleString('es-MX');
            }
        });
    </script>
</body>
</html>